

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick note on lambda values: &mdash; BICePs 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../../../../../../../../../../../../../" src="../../../../../../../../../../../../../../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../../../../../../../../../../../../../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../../../../../../../../../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../../../../../../../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../../../../../../../../../../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../../../../../../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../../../../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../../../../../../../../../../../../../../index.html" class="icon icon-home"> BICePs
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../../../../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../../../../../../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../../../../../../../../../theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../../../../../../../../../workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../../../../../../../../../examples/index.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../../../../../../../../../biceps.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../../../../../../../../../../../index.html">BICePs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../../../../../../../../../../../../../index.html">Docs</a> &raquo;</li>
        
      <li>Quick note on lambda values:</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../../../../../../../../../../../../../../_sources/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/examples/Tutorials/Prep_Rest_Post_Ana/restraint.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 250px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 250px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 250px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="admonition note">
<p>This page was generated from <a class="reference external" href="https://github.com/spatialaudio/nbsphinx/blob/2.0/doc/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/examples/Tutorials/Prep_Rest_Post_Ana/restraint.ipynb">doc/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/examples/Tutorials/Prep_Rest_Post_Ana/restraint.ipynb</a>.
Interactive online version:
<span class="raw-html"><a href="https://mybinder.org/v2/gh/spatialaudio/nbsphinx/2.0?filepath=doc/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/api/.doctrees/nbsphinx/examples/Tutorials/Prep_Rest_Post_Ana/restraint.ipynb"><img alt="Binder badge" src="https://mybinder.org/badge.svg" style="vertical-align:text-bottom"></a></span></p>
</div>
<h1 style="align: center;font-size: 18pt;"><p>Restraint</p>
</h1><hr style="height:2.5px"><p>This tutorial shows the user how to appropriately use the <code class="docutils literal notranslate"><span class="pre">Restraint</span> <span class="pre">class</span></code> to building the ensemble by importing the data files that were prepared from the previous tutorial <a class="reference external" href="https://biceps.readthedocs.io/en/latest/examples/Tutorials/Prep_Rest_Post_Ana/Preparation.html">Preparation</a> via the <code class="docutils literal notranslate"><span class="pre">Preparation</span> <span class="pre">class</span></code>. <strong>Please note</strong> that in order to compute the relative free energies, one must perform sampling for at least two lambda values. For simplicity, we will construct an ensemble for
only a single lambda value.</p>
<hr style="height:2.5px"><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">biceps</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_dir</span> <span class="o">=</span> <span class="s2">&quot;../../datasets/cineromycin_B/&quot;</span>

<span class="c1">#########################################</span>
<span class="c1"># Let&#39;s create our ensemble of structures</span>
<span class="c1">############ Initialization #############</span>
<span class="c1"># Specify necessary argument values</span>
<span class="n">dataFiles</span> <span class="o">=</span> <span class="n">data_dir</span><span class="o">+</span><span class="s1">&#39;noe_J&#39;</span>                  <span class="c1"># output directory of BICePs formated input file from this scripts</span>
<span class="n">out_dir</span><span class="o">=</span><span class="n">dataFiles</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">biceps</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">sort_data</span><span class="p">(</span><span class="n">dataFiles</span><span class="p">)</span>   <span class="c1"># sorting data in the folder and figure out what types of data are used</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

<span class="n">energies_filename</span> <span class="o">=</span>  <span class="n">data_dir</span><span class="o">+</span><span class="s1">&#39;cineromycinB_QMenergies.dat&#39;</span>
<span class="n">energies</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">energies_filename</span><span class="p">)</span><span class="o">*</span><span class="mf">627.509</span>  <span class="c1"># convert from hartrees to kcal/mol</span>
<span class="n">energies</span> <span class="o">=</span> <span class="n">energies</span><span class="o">/</span><span class="mf">0.5959</span>   <span class="c1"># convert to reduced free energies F = f/kT</span>
<span class="n">energies</span> <span class="o">-=</span> <span class="n">energies</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>  <span class="c1"># set ground state to zero, just in case</span>
<span class="n">outdir</span> <span class="o">=</span> <span class="s1">&#39;results&#39;</span>

<span class="c1"># Make a new directory if we have to</span>
<span class="n">biceps</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">outdir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[&#39;../../datasets/cineromycin_B/noe_J/0.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/0.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/1.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/1.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/2.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/2.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/3.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/3.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/4.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/4.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/5.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/5.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/6.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/6.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/7.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/7.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/8.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/8.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/9.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/9.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/10.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/10.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/11.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/11.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/12.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/12.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/13.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/13.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/14.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/14.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/15.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/15.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/16.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/16.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/17.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/17.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/18.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/18.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/19.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/19.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/20.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/20.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/21.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/21.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/22.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/22.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/23.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/23.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/24.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/24.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/25.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/25.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/26.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/26.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/27.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/27.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/28.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/28.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/29.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/29.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/30.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/30.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/31.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/31.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/32.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/32.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/33.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/33.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/34.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/34.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/35.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/35.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/36.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/36.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/37.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/37.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/38.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/38.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/39.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/39.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/40.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/40.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/41.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/41.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/42.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/42.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/43.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/43.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/44.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/44.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/45.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/45.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/46.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/46.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/47.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/47.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/48.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/48.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/49.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/49.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/50.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/50.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/51.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/51.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/52.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/52.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/53.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/53.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/54.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/54.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/55.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/55.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/56.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/56.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/57.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/57.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/58.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/58.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/59.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/59.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/60.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/60.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/61.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/61.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/62.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/62.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/63.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/63.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/64.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/64.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/65.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/65.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/66.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/66.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/67.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/67.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/68.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/68.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/69.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/69.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/70.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/70.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/71.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/71.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/72.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/72.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/73.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/73.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/74.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/74.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/75.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/75.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/76.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/76.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/77.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/77.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/78.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/78.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/79.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/79.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/80.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/80.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/81.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/81.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/82.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/82.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/83.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/83.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/84.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/84.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/85.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/85.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/86.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/86.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/87.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/87.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/88.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/88.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/89.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/89.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/90.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/90.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/91.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/91.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/92.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/92.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/93.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/93.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/94.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/94.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/95.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/95.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/96.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/96.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/97.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/97.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/98.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/98.noe&#39;], [&#39;../../datasets/cineromycin_B/noe_J/99.J&#39;, &#39;../../datasets/cineromycin_B/noe_J/99.noe&#39;]]
100 2
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">res</span> <span class="o">=</span> <span class="n">biceps</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">list_res</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;J&#39;, &#39;noe&#39;]
</pre></div></div>
</div>
<p>Another key parameter for BICePs set-up is the type of reference potential for each experimental observables. More information of reference potential can be found <a class="reference external" href="https://biceps.readthedocs.io/en/latest/theory.html">here</a>.</p>
<p>Three reference potentials are supported in BICePs: uniform (‘uniform’), exponential (‘exp’), Gaussian (‘gau’).</p>
<p>As we found in previous research, exponential reference potential is useful in most cases. Some higher level task may require more in reference potential selection (e.g <a class="reference external" href="https://pubs.acs.org/doi/10.1021/acs.jpcb.7b11871">force field parametrization</a>).</p>
<p>(Noet: It will be helpful to print out what is the order of experimental observables included in BICePs sampling as shown above.)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ref</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span><span class="s1">&#39;exp&#39;</span><span class="p">]</span>
<span class="n">uncern</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">20.0</span><span class="p">,</span><span class="mf">1.02</span><span class="p">],[</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">1.02</span><span class="p">]]</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">1.01</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="Quick-note-on-lambda-values:">
<h1>Quick note on lambda values:<a class="headerlink" href="#Quick-note-on-lambda-values:" title="Permalink to this headline">¶</a></h1>
<p>We need to specify what lambda value(s) we want to use in BICePs samplings. Briefly, lambda values are similar to the parameters used in free energy perturbation (FEP) and has effect on the BICePs score. The lambda values represent how much prior information from computational modeling is included in BICePs sampling (1.0 means all, 0.0 means none). As we explained in <a class="reference external" href="https://pubs.acs.org/doi/10.1021/acs.jpcb.7b11871">this work</a>, one can consider BICePs score as the relative free energy
change between different models. More lambda values will increase the samplings for <a class="reference external" href="http://www.alchemistry.org/wiki/Multistate_Bennett_Acceptance_Ratio">multistate Bennett acceptance ratio (MBAR)</a> predictions in free energy change and populations. However more lambda values also will slow down the whole process of BICePs (as more samplings need to run), so balancing the accuracy and efficiency is important. To successfully finish a BICePs sampling, lambda values of 0.0 and 1.0 are necessary.
Based on our experience, the lambda values of 0.0,0.5,1.0 are good enough for BICePs sampling. <strong>In this tutorial, we will go through a single lambda for simplicity.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lam</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="c1"># We will instantiate a number of Structure() objects to construct the ensemble</span>
<span class="n">ensemble</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">energies</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">ensemble</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
        <span class="n">File</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
        <span class="n">R</span> <span class="o">=</span> <span class="n">biceps</span><span class="o">.</span><span class="n">init_res</span><span class="p">(</span><span class="n">data_dir</span><span class="o">+</span><span class="s1">&#39;cineromycinB_pdbs/0.fixed.pdb&#39;</span><span class="p">,</span>
                            <span class="n">lam</span><span class="p">,</span><span class="n">energies</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">File</span><span class="p">,</span><span class="n">ref</span><span class="p">[</span><span class="n">k</span><span class="p">],</span><span class="n">uncern</span><span class="p">[</span><span class="n">k</span><span class="p">],</span><span class="n">gamma</span><span class="p">)</span>
        <span class="n">ensemble</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ensemble</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[&lt;biceps.Restraint.Restraint_J object at 0x1a1803dad0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a181cdb50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1803d850&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a184f1bd0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a180d3310&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a184f1f10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a180d3190&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18356510&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a180d3050&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18356ad0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18356810&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e16e90&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181c1a50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a182d5910&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x105911b10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e34990&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a182d5490&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e72810&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18e40f10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e6ac50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183c06d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e8c690&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18832f10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18ec2750&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18eb4910&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18ec26d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18eaacd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18ec0f10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18912d50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18ecff50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18ec0d90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1895bc10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18a04f10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18dd88d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18482bd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a189813d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1868b550&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a184e06d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a189a91d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a186f0090&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a189d9110&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a186d67d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a187e0390&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a186d60d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a185c5810&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1844a090&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a186d6ad0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18537ed0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1844aa90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187bbf50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18537810&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187bb1d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1845b110&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18496610&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a187bbad0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18a50090&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a184ea3d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1816f810&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a184ea210&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1841ffd0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18a501d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a189a5710&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18cbf310&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18a24250&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a187f7d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183a6f50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18286350&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183a4410&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183e8710&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183b95d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18893090&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183b9c10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183a66d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183c7c50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183a6d90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1826c450&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183b9c50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183194d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1833d550&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1829ff50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181f5790&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18144450&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1831c0d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1820bc90&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a180f2510&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a181457d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1828b5d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18247550&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1828b150&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a180dfed0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181f7110&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18243650&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1821c0d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1814c710&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181ff250&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a181c0b50&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1835dc50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1821f150&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181ee8d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1818f090&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181d6e10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a181c0210&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181d6190&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a183b19d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a181c0910&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1822c650&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18719290&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1835c990&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a187196d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18731350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18220590&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1828d650&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1822ca90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a181ef850&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1828ff90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a188a3310&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1849ee90&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18405b10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183e4850&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a188ad550&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183f84d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18449b90&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a188a3210&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187da490&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a188a3fd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a185188d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a187dab10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187d5d90&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1872cd10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1844be10&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18164250&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18440990&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183d3350&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187ebad0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18460790&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18579610&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1844b050&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1862ecd0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1857fdd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a187248d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18690950&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1846b350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18690b50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1813e390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1872d7d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a186a7ed0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1846b090&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a182fdb90&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a183c9b50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1873f3d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18698610&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1874d350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18179090&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1876b390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18773d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f21350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f11d50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f35390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f20d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f4a350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f34d50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f5e390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f4bd10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f71350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f5fd50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f83350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f72d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18f8c390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f84d50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18fa82d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18f96d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18fc02d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18facd10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18fd32d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18fbdd50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18fe42d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18fd4d10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18ffa2d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18fdcd50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1900b390&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18feed10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1842d9d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18fe55d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18114290&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18fe5e50&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1900b350&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x107029810&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e6d690&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1842d750&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18e51250&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18e74bd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a18823950&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18e22ad0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a188237d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a18e1bfd0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a1880e090&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a188234d0&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a189f45d0&gt;], [&lt;biceps.Restraint.Restraint_J object at 0x1a1880df10&gt;, &lt;biceps.Restraint.Restraint_noe object at 0x1a189f4290&gt;]]
</pre></div></div>
</div>
<p>Let’s save the ensemble as a pickle</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outdir</span><span class="o">+</span><span class="s2">&quot;/ensemble_</span><span class="si">%s</span><span class="s2">.pkl&quot;</span><span class="o">%</span><span class="k">lam</span>,&#39;wb&#39;) as file:
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ensemble</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Conclusion">
<h2>Conclusion<a class="headerlink" href="#Conclusion" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial, we explained how to use <a class="reference external" href="https://biceps.readthedocs.io/en/latest/api.html#restraint">Restraint</a> to construct the ensemble, which we saved as a pickle file. In the next tutorial, <a class="reference external" href="https://biceps.readthedocs.io/en/latest/examples/Tutorials/Prep_Rest_Post_Ana/posteriorsampler.html">PosteriorSampler</a> we will Sample the posterior distribution by using the <code class="docutils literal notranslate"><span class="pre">PosteriorSampler</span></code> class.</p>
<h6 style="align: justify;font-size: 12pt"><p># NOTE: The following cell is for pretty notebook rendering</p>
</h6><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="k">import</span> <span class="n">HTML</span>
<span class="k">def</span> <span class="nf">css_styling</span><span class="p">():</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../../../theme.css&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
<span class="n">css_styling</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style>
    @font-face {
        font-family: "Computer Modern";
        src: url('http://mirrors.ctan.org/fonts/cm-unicode/fonts/otf/cmunss.otf');
    }
    #notebook { /* centers the page content */
    padding-left:8%;
    padding-right:9%;
    }
    #ipython-main-app {
        position: relative;
    }
    #jupyter-main-app {
        position: relative;
    }
    div.cell{
        width:98%;
        margin-left:4% !important;*/
        margin-right:4%;
    }
    h1 {
        font-family: "Charis SIL", Palatino, serif;
        text-align: center;
    }
    h4{
        margin-top:12px;
        margin-bottom: 3px;
       }
    div.text_cell_render{
        font-family: Computer Modern, "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;
        line-height: 145%;
        font-size: 12pt;
        width:99%;
        margin-left:auto;
        margin-right:auto;
    }
    .output_png {
        display: block;/*table-cell;*/
        text-align: center;
        align: center;
        vertical-align: middle;
        margin-left: auto;
        margin-right: auto;
        width: 100%;
    }
    div.output_area pre {font-weight: normal; text-align: justify; }
    .warning{
        color: rgb( 240, 20, 20 )
        }
    .CodeMirror{
            font-family: "Source Code Pro", source-code-pro,Consolas, monospace;
    }
    .prompt{
        display: None;
    }
    .text_cell_render h5 {
        font-weight: 300;
        font-size: 16pt;
        color: #4057A1;
        font-style: italic;
        margin-bottom: .5em;
        margin-top: 0.5em;
        display: block;
    }
    /* override table width restrictions as found on https://github.com/getpelican/pelican/issues/1311 */
    .wy-table-responsive table td, .wy-table-responsive table th {
        /* !important prevents the common CSS stylesheets from
           overriding this as on RTD they are loaded after this stylesheet */
        white-space: normal !important;
    }

    .wy-table-responsive {
        overflow: visible !important;
    }
</style>

<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
                        TeX: {
                           extensions: ["AMSmath.js"]
                           },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                },
                displayAlign: 'center', // Change this to 'center' to center equations.
                "HTML-CSS": {
                    styles: {'.MathJax_Display': {"margin": 4}},
                    linebreaks: { automatic: true }}
        });
</script></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Temple University, Yunhui Ge, Robert M. Raddi, Vincent A. Voelz


    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>